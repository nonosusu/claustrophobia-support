<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ç™ºä½œæ™‚ã®èª¬æ˜</title>
  <style>
    body {
      font-family: "Yu Gothic", sans-serif;
      background-color: #f0faff;
      padding: 40px;
      text-align: center;
      line-height: 1.8;
    }
    h1 {
      color: #2c3e50;
      margin-bottom: 30px;
      font-size: 28px;
    }
    .section {
      margin: 40px auto;
      max-width: 700px;
      background: #ffffff;
      padding: 25px;
      border-radius: 14px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      text-align: left;
    }
    .section h2 {
      font-size: 22px;
      color: #0077aa;
      margin-bottom: 10px;
    }
    .section p {
      font-size: 18px;
      margin-bottom: 10px;
    }
    button {
      margin-top: 10px;
      padding: 10px 24px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background-color: #4ca7db;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #357abd;
    }
    #langToggle, #homeBtn {
      position: fixed;
      top: 10px;
      font-size: 14px;
      padding: 8px 16px;
      border-radius: 8px;
    }
    #langToggle {
      right: 10px;
    }
    #homeBtn {
      left: 10px;
    }
  </style>
</head>
<body>

  <button id="homeBtn" onclick="location.href='index.html'">ğŸ  ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</button>
  <button id="langToggle" onclick="toggleLanguage()">ğŸŒ English</button>

  <h1 id="mainTitle">ç™ºä½œæ™‚ã®ãŠé¡˜ã„</h1>

  <div class="section">
    <h2 id="titleBefore">ç™ºä½œã®å‰</h2>
    <p id="text-before">
      ç§ã¯ç‹­ã„ã¨ã“ã‚ãŒè‹¦æ‰‹ã§ã€ä¸å®‰ã«ãªã£ãŸã‚Šç™ºä½œãŒå‡ºã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ãã£ã¨è¦‹å®ˆã£ã¦ã‚‚ã‚‰ãˆã‚‹ã¨å¬‰ã—ã„ã§ã™ã€‚
    </p>
    <button onclick="speak('before')">â–¶ èª­ã¿ä¸Šã’</button>
  </div>

  <div class="section">
    <h2 id="titleAfter">ç™ºä½œã®å¾Œ</h2>
    <p id="text-after">
      ä»Šã¡ã‚‡ã£ã¨ã€ä¸å®‰ãªæ°—æŒã¡ãŒå¼·ãã¦ã€å°‘ã—ã ã‘ãã£ã¨ã—ã¦ãŠã„ã¦ã»ã—ã„ã§ã™ã€‚è½ã¡ç€ã„ãŸã‚‰è‡ªåˆ†ã‹ã‚‰è©±ã—ã¾ã™ã­ã€‚
    </p>
    <button onclick="speak('after')">â–¶ èª­ã¿ä¸Šã’</button>
  </div>

  <div class="section">
    <h2 id="titleTips">å¯¾å‡¦æ³•ã®ãŠé¡˜ã„</h2>
    <p id="text-tips">
      å£°ã‚’ã‹ã‘ãšã«é™ã‹ã«ã—ã¦ãã‚Œã‚‹ã ã‘ã§ã‚‚è½ã¡ç€ãã‚„ã™ã„ã§ã™ã€‚å„ªã—ã„æ°—æŒã¡ã§ãã°ã«ã„ã¦ãã‚Œã‚‹ã¨ã€ã¨ã¦ã‚‚åŠ©ã‹ã‚Šã¾ã™ã€‚
    </p>
    <button onclick="speak('tips')">â–¶ èª­ã¿ä¸Šã’</button>
  </div>

  <script>
    let currentLang = 'ja';

    const messages = {
      ja: {
        mainTitle: 'ç™ºä½œæ™‚ã®ãŠé¡˜ã„',
        titleBefore: 'ç™ºä½œã®å‰',
        titleAfter: 'ç™ºä½œã®å¾Œ',
        titleTips: 'å¯¾å‡¦æ³•ã®ãŠé¡˜ã„',
        before: 'ç§ã¯ç‹­ã„ã¨ã“ã‚ãŒè‹¦æ‰‹ã§ã€ä¸å®‰ã«ãªã£ãŸã‚Šç™ºä½œãŒå‡ºã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ãã£ã¨è¦‹å®ˆã£ã¦ã‚‚ã‚‰ãˆã‚‹ã¨å¬‰ã—ã„ã§ã™ã€‚',
        after: 'ä»Šã¡ã‚‡ã£ã¨ã€ä¸å®‰ãªæ°—æŒã¡ãŒå¼·ãã¦ã€å°‘ã—ã ã‘ãã£ã¨ã—ã¦ãŠã„ã¦ã»ã—ã„ã§ã™ã€‚è½ã¡ç€ã„ãŸã‚‰è‡ªåˆ†ã‹ã‚‰è©±ã—ã¾ã™ã­ã€‚',
        tips: 'å£°ã‚’ã‹ã‘ãšã«é™ã‹ã«ã—ã¦ãã‚Œã‚‹ã ã‘ã§ã‚‚è½ã¡ç€ãã‚„ã™ã„ã§ã™ã€‚å„ªã—ã„æ°—æŒã¡ã§ãã°ã«ã„ã¦ãã‚Œã‚‹ã¨ã€ã¨ã¦ã‚‚åŠ©ã‹ã‚Šã¾ã™ã€‚'
      },
      en: {
        mainTitle: 'Support Request During a Panic Attack',
        titleBefore: 'Before the Attack',
        titleAfter: 'After the Attack',
        titleTips: 'How You Can Help',
        before: "I'm sensitive to enclosed spaces. I might become anxious or experience a panic attack. It helps me a lot if you can just stay calm nearby.",
        after: "I'm feeling overwhelmed right now. Iâ€™d like to be left alone for a little while. Iâ€™ll reach out when I feel better.",
        tips: "Just being quietly nearby helps a lot. You donâ€™t need to say anything â€” your presence is enough. Thank you."
      }
    };

    function toggleLanguage() {
      currentLang = currentLang === 'ja' ? 'en' : 'ja';
      const lang = messages[currentLang];
      document.getElementById('mainTitle').innerText = lang.mainTitle;
      document.getElementById('titleBefore').innerText = lang.titleBefore;
      document.getElementById('titleAfter').innerText = lang.titleAfter;
      document.getElementById('titleTips').innerText = lang.titleTips;
      document.getElementById('text-before').innerText = lang.before;
      document.getElementById('text-after').innerText = lang.after;
      document.getElementById('text-tips').innerText = lang.tips;
      document.getElementById('langToggle').innerText = currentLang === 'ja' ? 'ğŸŒ English' : 'ğŸŒ æ—¥æœ¬èª';
    }

    function speak(type) {
      const text = messages[currentLang][type];
      const utterance = new SpeechSynthesisUtterance("ã€" + text); // æ—¥æœ¬èªã¯ã€Œã€ã€ãªã©ã§èª­ã¿å‡ºã—ãŒå®‰å®šã—ã‚„ã™ã„
      utterance.lang = currentLang === 'ja' ? 'ja-JP' : 'en-US';

      // ã‚ˆã‚Šæ»‘ã‚‰ã‹ãªå£°ã‚’ä½¿ã†ï¼ˆæ—¥æœ¬èªã®ä¸­ã§æœ€é©ãªvoiceã‚’é¸ã¶ï¼‰
      const voices = speechSynthesis.getVoices();
      if (voices.length) {
        const preferred = voices.find(v => v.lang === utterance.lang && v.name.includes("Google æ—¥æœ¬èª"));
        if (preferred) utterance.voice = preferred;
      }

      speechSynthesis.cancel();
      speechSynthesis.speak(utterance);
    }

    // getVoicesãŒéåŒæœŸã§èª­ã¿è¾¼ã¾ã‚Œã‚‹å ´åˆã‚‚ã‚ã‚‹ã®ã§åˆå›å®Ÿè¡Œã‚’ä¿éšœ
    window.speechSynthesis.onvoiceschanged = () => {};
  </script>

</body>
</html>
